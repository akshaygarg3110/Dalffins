(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(12),s=n.n(c),r=(n(158),n(14)),l=(n(159),n(32)),o=n(34),d=n(93),j=n(88),h=n.n(j),u=n(117),b=n(118),m=n.n(b),p=(n(173),n(69)),O=n(249),f=n(250),x=n(241),g=n(251),v=n(252),y=n(56),k=n(260),I=n(243),C=n(244),D=n(253),S=n(245),T=n(246),U=n(132),w=n.n(U),A=n(264),F=n(134),L=n(262),N=n(33),P=n.n(N),E=n(256),R=n(79),_=n(247),B=n(248),W=n(2),z=["Breakfast","Snack","Lunch","Dinner"],V=Object(_.a)((function(e){return{dropZoneArea:{marginTop:e.spacing(3),padding:e.spacing(2),minHeight:200}}}));var H,M=function(e){var t=e.foodItem,n=e.open,a=e.handleClose,c=e.UserID,s=V(),l=i.a.useState(t.mealtype),o=Object(r.a)(l,2),d=o[0],j=o[1],h=i.a.useState(""),u=Object(r.a)(h,2),b=u[0],m=u[1];return console.log(t),Object(W.jsx)(k.a,{open:n,onClose:a,"aria-labelledby":"form-dialog-title",children:Object(W.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var n=e.target,i={_id:t._id,UserID:c,dishID:t.dishID,dishname:n.title.value,dishRating:t.dishRating,Image:b,dishcost:"".concat(n.cost.value),mealtype:d,dishstatus:"True",delivery:n.delivery.value};console.log(i),P.a.put("https://dalffins.herokuapp.com/dish/updatedish/"+t._id,i).then((function(e){a(i)}))},children:[Object(W.jsx)(I.a,{id:"form-dialog-title",children:"Add Dish"}),Object(W.jsxs)(C.a,{children:[Object(W.jsx)(E.a,{id:"title",label:"Dish Name",type:"text",fullWidth:!0,defaultValue:t.dishname}),Object(W.jsx)(E.a,{margin:"dense",id:"cost",label:"Cost",type:"text",fullWidth:!0,defaultValue:t.dishcost}),Object(W.jsx)(E.a,{margin:"dense",id:"mealType",select:!0,label:"Select",value:d,onChange:function(e){return j(e.target.value)},helperText:"Please select meal type",defaultValue:t.mealtype,children:z.map((function(e){return Object(W.jsx)(L.a,{value:e,children:e},e)}))}),Object(W.jsx)(E.a,{id:"delivery",label:"Delivery",type:"text",fullWidth:!0,defaultValue:t.delivery}),Object(W.jsx)(B.a,{fullWidth:!0,children:Object(W.jsx)(R.a,{initialFiles:[t.Image],filesLimit:1,dropzoneClass:s.dropZoneArea,dropzoneText:"Drag and drop a dish image here or click",acceptedFiles:["image/*"],onChange:function(e){var t=new FileReader;t.addEventListener("load",(function(){m(t.result)}),!1),e[0]&&t.readAsDataURL(e[0])}})})]}),Object(W.jsxs)(S.a,{children:[Object(W.jsx)(T.a,{onClick:a,children:"Cancel"}),Object(W.jsx)(T.a,{type:"submit",children:"Submit"})]})]})})},G=Object(o.a)(O.a)(H||(H=Object(l.a)(["\n  min-height: 300px;\n"])));var K=function(e){var t=e.removeItemFromList,n=e.foodItem,a=e.updateItem,c=e.UserID,s=i.a.useState(null),l=Object(r.a)(s,2),o=l[0],d=l[1],j=i.a.useState(!1),h=Object(r.a)(j,2),u=h[0],b=h[1],m=i.a.useState(!1),O=Object(r.a)(m,2),U=O[0],N=O[1],E=function(){d(null)};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(G,{style:{opacity:"True"===n.dishstatus?"1":"0.5"},children:[Object(W.jsx)(f.a,{action:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(x.a,{"aria-label":"settings","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},children:Object(W.jsx)(w.a,{})}),Object(W.jsxs)(F.a,{id:"menu"+n.dishID,anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:E,children:[Object(W.jsx)(L.a,{onClick:function(){N(!0),d(null)},children:"Update"}),Object(W.jsx)(L.a,{onClick:function(){P.a.put("https://dalffins.herokuapp.com/dish/updatedish/"+n._id,{UserID:n.UserID,dishstatus:"True"}).then((function(e){a(Object(p.a)(Object(p.a)({},n),{},{dishstatus:"True"})),E()}))},children:"Enable"}),Object(W.jsx)(L.a,{onClick:function(){P.a.put("https://dalffins.herokuapp.com/dish/updatedish/"+n._id,{UserID:n.UserID,dishstatus:"False"}).then((function(e){a(Object(p.a)(Object(p.a)({},n),{},{dishstatus:"False"})),E()}))},children:"Disable"}),Object(W.jsx)(L.a,{onClick:function(){b(!0),d(null)},children:"Remove"})]})]}),title:n.dishname,subheader:Object(W.jsx)(A.a,{name:"read-only",value:Number(n.dishRating),readOnly:!0}),titleTypographyProps:{variant:"body1",color:"textPrimary"}}),Object(W.jsx)(g.a,{style:{height:0,padding:"25%"},image:n.Image,title:"mydish"}),Object(W.jsxs)(v.a,{children:[Object(W.jsxs)(y.a,{variant:"body2",color:"textPrimary",children:["Cost: ",Object(W.jsxs)("span",{style:{float:"right"},children:["$",n.dishcost]})]}),Object(W.jsxs)(y.a,{variant:"body2",color:"textPrimary",children:["Meal Type:"," ",Object(W.jsx)("span",{style:{float:"right"},children:n.mealtype})]}),Object(W.jsxs)(y.a,{variant:"body2",color:"textPrimary",children:["Delivery:"," ",Object(W.jsx)("span",{style:{float:"right"},children:n.delivery})]})]})]}),Object(W.jsxs)(k.a,{open:u,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(W.jsx)(I.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this item?"}),Object(W.jsx)(C.a,{children:Object(W.jsx)(D.a,{id:"alert-dialog-description",children:"This action is irreversible. If you are planning to add this item again in the future, you can choose to disable the item instead of removal."})}),Object(W.jsxs)(S.a,{children:[Object(W.jsx)(T.a,{onClick:function(){b(!1)},color:"primary",children:"Cancel"}),Object(W.jsx)(T.a,{onClick:function(){P.a.delete("https://dalffins.herokuapp.com/dish/removedish/"+n._id,{data:{UserID:n.UserID}}).then((function(e){b(!1),t(n._id)}))},color:"primary",autoFocus:!0,children:"Remove"})]})]}),U?Object(W.jsxs)(i.a.Suspense,{fallback:Object(W.jsx)("p",{children:"loading"}),children:["// Updating dish added by the user",Object(W.jsx)(M,{open:U,handleClose:function(e){a(e),N(!1)},foodItem:n,UserID:c})]}):null]})},Z=n(261),J=n(259),Q=["Breakfast","Snack","Lunch","Dinner"],$=Object(_.a)((function(e){return{dropZoneArea:{marginTop:e.spacing(3),padding:e.spacing(2),minHeight:200}}}));var q=function(e){var t=e.addItem,n=e.nextId,a=e.open,c=e.handleClose,s=e.UserID,l=e.Email,o=$(),d=i.a.useState(""),j=Object(r.a)(d,2),h=j[0],u=j[1],b=i.a.useState(""),m=Object(r.a)(b,2),p=m[0],O=m[1];return console.log(s),console.log(l),Object(W.jsx)(k.a,{open:a,onClose:c,"aria-labelledby":"form-dialog-title",children:Object(W.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var a=e.target,i={UserID:s,dishID:n,vendorEmail:l,dishname:a.title.value,dishRating:0,Image:p,dishcost:"".concat(a.cost.value),mealtype:h,dishstatus:"True",delivery:a.delivery.value};P.a.post("https://dalffins.herokuapp.com/dish/adddish",i).then((function(e){t(e.data)}))},children:[Object(W.jsx)(I.a,{id:"form-dialog-title",children:"Add Dish"}),Object(W.jsxs)(C.a,{children:[Object(W.jsx)(E.a,{id:"title",label:"Dish Name",type:"text",fullWidth:!0}),Object(W.jsx)(E.a,{margin:"dense",id:"cost",label:"Cost",type:"text",fullWidth:!0}),Object(W.jsx)(E.a,{margin:"dense",id:"mealType",select:!0,label:"Select",value:h,onChange:function(e){return u(e.target.value)},helperText:"Please select meal type",children:Q.map((function(e){return Object(W.jsx)(L.a,{value:e,children:e},e)}))}),Object(W.jsx)(E.a,{id:"delivery",label:"Delivery",type:"text",fullWidth:!0}),Object(W.jsx)(B.a,{fullWidth:!0,children:Object(W.jsx)(R.a,{filesLimit:1,dropzoneClass:o.dropZoneArea,dropzoneText:"Drag and drop a dish image here or click",acceptedFiles:["image/*"],onChange:function(e){var t=new FileReader;t.addEventListener("load",(function(){O(t.result)}),!1),e[0]&&t.readAsDataURL(e[0])}})})]}),Object(W.jsxs)(S.a,{children:[Object(W.jsx)(T.a,{onClick:c,children:"Cancel"}),Object(W.jsx)(T.a,{type:"submit",children:"Submit"})]})]})})},X=n(17),Y={superLargeDesktop:{breakpoint:{max:4e3,min:1201},items:5},desktop:{breakpoint:{max:1200,min:1025},items:4},laptop:{breakpoint:{max:1024,min:769},items:3},tablet:{breakpoint:{max:768,min:481},items:2},mobile:{breakpoint:{max:480,min:0},items:1}};var ee,te,ne,ae=function(e){var t=i.a.useState([]),n=Object(r.a)(t,2),a=n[0],c=n[1],s=i.a.useState(!1),l=Object(r.a)(s,2),o=l[0],j=l[1],b=i.a.useState(!1),p=Object(r.a)(b,2),O=p[0],f=p[1],x=Object(X.f)();i.a.useEffect((function(){e.Id?function(){var t=Object(u.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://dalffins.herokuapp.com/dish/getUserDish?UserID=".concat(e.Id));case 2:n=t.sent,console.log(n.data),c(n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()():(window.alert("Please login in to dalffins. Thank you  !!!"),x.push("/login"))}),[]);var g=function(e){var t=Object(d.a)(a);t=t.map((function(t){return t._id===e._id?e:t})),c(t)},v=function(e){c(a.filter((function(t){return t._id!==e})))},y=function(){f(!1)};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{style:{textAlign:"center"},children:Object(W.jsx)(T.a,{variant:"outlined",onClick:function(){j(!0)},children:"Add dish"})}),Object(W.jsx)(m.a,{responsive:Y,children:a.map((function(t){return Object(W.jsx)(K,{foodItem:t,removeItemFromList:v,updateItem:g,UserID:e.Id},t._id)}))}),o?Object(W.jsxs)(i.a.Suspense,{fallback:Object(W.jsx)("p",{children:"loading"}),children:["// Adding dish to the kitchen",Object(W.jsx)(q,{open:o,addItem:function(e){c([].concat(Object(d.a)(a),[e])),j(!1),f(!0)},handleClose:function(){j(!1)},nextId:a[a.length-1]._id,UserID:e.Id,Email:e.email})]}):null,Object(W.jsx)(Z.a,{open:O,autoHideDuration:6e3,onClose:y,children:Object(W.jsx)(J.a,{onClose:y,severity:"success",children:"New dish added successfully !!"})})]})},ie=n(92),ce=(o.a.div(ee||(ee=Object(l.a)(["\n  height: 40vh;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n"]))),o.a.div(te||(te=Object(l.a)(["\n  position: absolute;\n  color: white;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n"]))),o.a.img(ne||(ne=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n"]))));var se=function(e){var t=Object(a.useState)("Indian Kitchen"),n=Object(r.a)(t,2),i=(n[0],n[1],Object(a.useState)(["images/Kitchen1.jpg","images/Kitchen2.jpg"])),c=Object(r.a)(i,2),s=c[0];return c[1],Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ie.a,{style:{height:"50vh"},children:s.map((function(e){return Object(W.jsx)(ie.a.Item,{children:Object(W.jsx)(ce,{className:"d-block w-100",src:e,style:{height:"50vh"}})})}))}),Object(W.jsx)("br",{}),Object(W.jsx)(ae,{Id:e.userId,email:e.email}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{})]})},re=n(254),le=n(255),oe=n(257),de=n(133),je=n.n(de),he=Object(_.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},dalffinsButton:{fontSize:"23px",color:"#ffc107"}}}));function ue(e){var t=he(),n=i.a.useState(null),a=Object(r.a)(n,2),c=a[0],s=a[1],l=Object(X.f)(),o=Boolean(c),d=function(){l.push("/signup")},j=function(){l.push("/login")},h=function(e){s(e.currentTarget)},u=function(){l.push("/myAccount"),s(null)},b=function(){localStorage.removeItem("isAdmin"),l.push("/login"),localStorage.removeItem("token"),e.setUserToken(""),s(null)},m=function(){s(null)},p=e.orderedItems.size;console.log(p);var O=function(){l.push("/summaryAndPayment")};return Object(W.jsx)("div",{className:t.root,children:Object(W.jsx)(re.a,{position:"fixed",children:Object(W.jsxs)(le.a,{children:[Object(W.jsx)(T.a,{className:t.dalffinsButton,onClick:function(){l.push("/")},children:Object(W.jsx)(y.a,{variant:"h6",children:"Dalffins"})}),Object(W.jsx)(oe.a,{className:t.title}),localStorage.hasOwnProperty("isAdmin")?null:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(T.a,{color:"inherit",onClick:function(){l.push("/kitchen")},children:"Kitchen"}),p>0?Object(W.jsx)(T.a,{color:"inherit",style:{color:"#ffc107"},onClick:O,children:Object(W.jsxs)("b",{children:["Cart(",p,")"]})}):Object(W.jsx)(T.a,{color:"inherit",onClick:O,children:"Cart"})]}),e.userToken||"true"===localStorage.getItem("isAdmin")?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(T.a,{color:"inherit",onClick:h,children:[Object(W.jsx)(je.a,{className:t.personPin}),"Hey, ",e.firstName]}),Object(W.jsxs)(F.a,{anchorEl:c,open:o,onClose:m,children:[localStorage.hasOwnProperty("isAdmin")?null:Object(W.jsx)(L.a,{onClick:u,children:"My Account"}),Object(W.jsx)(L.a,{onClick:b,children:"Logout"})]})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(T.a,{color:"inherit",onClick:d,children:"Register"}),Object(W.jsx)(T.a,{color:"inherit",onClick:j,children:"Login"})]})]})})})}var be,me=Object(_.a)((function(e){return{root:{flexGrow:1},typoText:{flexGrow:1,fontSize:"14px",color:"white"},footerBar:{top:"auto",bottom:0}}}));function pe(e){var t=e.userEmail,n=me(),a=Object(X.f)();return Object(W.jsx)("div",{className:n.root,children:Object(W.jsx)(re.a,{className:n.footerBar,children:Object(W.jsxs)(le.a,{children:[Object(W.jsx)(y.a,{variant:"caption",className:n.typoText,children:"Copyright \xa9 2021 Dalffins. All rights reserved."}),Object(W.jsx)(T.a,{color:"inherit",children:"FAQs"}),Object(W.jsx)(T.a,{color:"inherit",children:"About Us"}),Object(W.jsx)(T.a,{color:"inherit",children:"Contact Us"}),t&&t.length>0&&!localStorage.getItem("isAdmin")?Object(W.jsx)(T.a,{color:"inherit",onClick:function(){a.push("/help")},children:"Help"}):null]})})})}var Oe,fe=o.a.div(be||(be=Object(l.a)(["\n  min-height: 100vh;\n"]))),xe=o.a.main(Oe||(Oe=Object(l.a)(["\n  min-height: calc(100vh - 60px);\n  padding: 30px 8vw;\n"])));var ge=function(){var e=Object(a.useState)(new Map),t=Object(r.a)(e,2),n=t[0],i=(t[1],Object(a.useState)(0)),c=Object(r.a)(i,2),s=(c[0],c[1],Object(a.useState)("")),l=Object(r.a)(s,2),o=(l[0],l[1],Object(a.useState)("")),d=Object(r.a)(o,2),j=d[0],h=d[1],u=Object(a.useState)(""),b=Object(r.a)(u,2),m=b[0],p=(b[1],Object(a.useState)("")),O=Object(r.a)(p,2);return O[0],O[1],Object(W.jsxs)(W.Fragment,{children:[console.log("orderedItems "+n),Object(W.jsx)(ue,{orderedItems:n,userToken:j,setUserToken:h,firstName:m}),Object(W.jsx)(X.c,{children:Object(W.jsx)(X.a,{exact:!0,path:"/kitchen",children:Object(W.jsx)(fe,{children:Object(W.jsx)(xe,{children:Object(W.jsx)(se,{userId:"122",email:"tanuj.sobti@dal.ca"})})})})}),Object(W.jsx)(pe,{userEmail:"tanuj.sobti@dal.ca"})]})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))},ye=n(49);n(205);s.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(ye.a,{children:Object(W.jsx)(ge,{})})}),document.getElementById("root")),ve()}},[[206,1,2]]]);
//# sourceMappingURL=main.9c86ff8b.chunk.js.map